---
title: Create Claimable Balance
hide_table_of_contents: true
description:
  Create claimable balances with various claim predicates using the Stellar CLI
custom_edit_url: https://github.com/stellar/stellar-cli/edit/main/cookbook/tx-new-create-claimable-balance.mdx
---

Claimable balances allow you to send payments that can be claimed by the
recipient based on specific conditions. This is useful for escrow-like
functionality, conditional payments, or time-locked transfers.

## Setup

For the following examples we will use these accounts:

```sh
stellar network use testnet
stellar keys generate --fund alice
stellar keys generate bob
stellar keys generate charlie

# Fund bob and charlie
stellar tx new create-account \
  --source alice \
  --destination bob \
  --starting-balance 100_000_000

stellar tx new create-account \
  --source alice \
  --destination charlie \
  --starting-balance 100_000_000
```

## Basic Examples

### Unconditional Claimable Balance

Create a claimable balance that can be claimed immediately by the recipient:

```sh
stellar tx new create-claimable-balance \
  --source alice \
  --amount 50_000_000 \
  --asset native \
  --claimant bob
```

You can also explicitly specify unconditional:

```sh
stellar tx new create-claimable-balance \
  --source alice \
  --amount 50_000_000 \
  --asset native \
  --claimant 'bob:{"type":"unconditional"}'
```

### Multiple Claimants

Create a claimable balance that can be claimed by any of multiple recipients:

```sh
stellar tx new create-claimable-balance \
  --source alice \
  --amount 75_000_000 \
  --asset native \
  --claimant bob \
  --claimant charlie
```

## Time-Based Predicates

### Before Absolute Time

Create a claimable balance that must be claimed before a specific date:

```sh
stellar tx new create-claimable-balance \
  --source alice \
  --amount 30_000_000 \
  --asset native \
  --claimant 'bob:{"type":"before_absolute_time","value":"2024-12-31T23:59:59Z"}'
```

### Before Relative Time

Create a claimable balance that must be claimed within 1 hour (3600 seconds)
from creation:

```sh
stellar tx new create-claimable-balance \
  --source alice \
  --amount 25_000_000 \
  --asset native \
  --claimant 'bob:{"type":"before_relative_time","value":3600}'
```

## Logical Predicates

### Not Predicate

Create a claimable balance that can be claimed after a certain time (NOT before
relative time):

```sh
stellar tx new create-claimable-balance \
  --source alice \
  --amount 40_000_000 \
  --asset native \
  --claimant 'bob:{"type":"not","value":{"type":"before_relative_time","value":7200}}'
```

This means: "Can be claimed, but NOT before 2 hours have passed" (effectively:
can be claimed after 2 hours).

### And Predicate

Create a claimable balance with multiple conditions that must ALL be true:

```sh
stellar tx new create-claimable-balance \
  --source alice \
  --amount 60_000_000 \
  --asset native \
  --claimant 'bob:{"type":"and","value":[{"type":"before_absolute_time","value":"2024-12-31T23:59:59Z"},{"type":"not","value":{"type":"before_relative_time","value":86400}}]}'
```

This means: "Can be claimed before Dec 31, 2024 AND after 1 day has passed".

### Or Predicate

Create a claimable balance where either condition can be true:

```sh
stellar tx new create-claimable-balance \
  --source alice \
  --amount 35_000_000 \
  --asset native \
  --claimant 'bob:{"type":"or","value":[{"type":"before_relative_time","value":3600},{"type":"not","value":{"type":"before_absolute_time","value":"2024-06-01T00:00:00Z"}}]}'
```

This means: "Can be claimed within 1 hour OR after June 1, 2024".

## Complex Examples

### Mixed Claimants with Different Predicates

Create a claimable balance with multiple claimants having different claim
conditions:

```sh
stellar tx new create-claimable-balance \
  --source alice \
  --amount 100_000_000 \
  --asset native \
  --claimant 'bob:{"type":"before_relative_time","value":3600}' \
  --claimant 'charlie:{"type":"not","value":{"type":"before_relative_time","value":86400}}'
```

This creates a balance where:

- Bob can claim within 1 hour
- Charlie can claim after 1 day has passed

### Escrow-Style Payment

Create an escrow where the recipient has 30 days to claim, otherwise it returns
to sender:

```sh
stellar tx new create-claimable-balance \
  --source alice \
  --amount 200_000_000 \
  --asset native \
  --claimant 'bob:{"type":"before_relative_time","value":2592000}' \
  --claimant 'alice:{"type":"not","value":{"type":"before_relative_time","value":2592000}}'
```

This means:

- Bob can claim within 30 days
- Alice can reclaim after 30 days if Bob hasn't claimed

### Custom Asset Claimable Balance

Create a claimable balance for a custom asset:

```sh
stellar tx new create-claimable-balance \
  --source alice \
  --amount 1000_000_000 \
  --asset USDC:GBUG7QTBTT47XVDVE6RZYWRUZBPLOIO57INE6LYZDMIXMMDCREQRUQKI \
  --claimant 'bob:{"type":"before_absolute_time","value":"2024-12-31T23:59:59Z"}'
```

## Understanding Predicates

### Predicate Types

| Type                   | Description                               | Example                                                          |
| ---------------------- | ----------------------------------------- | ---------------------------------------------------------------- |
| `unconditional`        | Can be claimed anytime                    | `{"type":"unconditional"}`                                       |
| `before_absolute_time` | Must claim before specific timestamp      | `{"type":"before_absolute_time","value":"2024-12-31T23:59:59Z"}` |
| `before_relative_time` | Must claim within X seconds from creation | `{"type":"before_relative_time","value":3600}`                   |
| `not`                  | Negates another predicate                 | `{"type":"not","value":{...}}`                                   |
| `and`                  | Both predicates must be true              | `{"type":"and","value":[{...},{...}]}`                           |
| `or`                   | Either predicate can be true              | `{"type":"or","value":[{...},{...}]}`                            |

### Time Format Notes

- **Absolute times**: Use ISO8601 format with 'Z' suffix (UTC timezone)
- **Relative times**: Seconds from claimable balance creation time
- **Timestamps**: Must be in the future when creating the balance

## Common Use Cases

### 1. Simple Payment with Deadline

```sh
# Bob has 7 days to claim
stellar tx new create-claimable-balance \
  --source alice \
  --amount 50_000_000 \
  --claimant 'bob:{"type":"before_relative_time","value":604800}'
```

### 2. Delayed Payment

```sh
# Bob can only claim after 1 day
stellar tx new create-claimable-balance \
  --source alice \
  --amount 100_000_000 \
  --claimant 'bob:{"type":"not","value":{"type":"before_relative_time","value":86400}}'
```

### 3. Emergency Fund

```sh
# Bob can claim immediately, but if he doesn't claim within 48 hours, Alice can reclaim
stellar tx new create-claimable-balance \
  --source alice \
  --amount 500_000_000 \
  --claimant 'bob:{"type":"before_relative_time","value":172800}' \
  --claimant 'alice:{"type":"not","value":{"type":"before_relative_time","value":172800}}'
```

## Notes

- `--amount`: Amount in stroops (1 XLM = 10,000,000 stroops)
- `--asset`: Use "native" for XLM or "CODE:ISSUER" format for other assets
- `--claimant`: Account with optional predicate (can be specified multiple
  times)
- Predicates are evaluated when the claimable balance is claimed, not when
  created
- `And` and `Or` predicates must have exactly 2 sub-predicates
- Complex predicates can be nested to create sophisticated claim conditions
